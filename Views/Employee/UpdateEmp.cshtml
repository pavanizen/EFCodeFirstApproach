@*@model EFCodeFirstApproach.Models.Employee*@
@model EFCodeFirstApproach.ViewModels.NewEmpViewModel
@{
    ViewBag.Title = "UpdateEmp";
}

<h2>Update Employee</h2>
@using (Html.BeginForm("UpdateEmp", "Employee"))
{
    @*<form action="/Employee/UpdateEmp/@Model.Id" method="post" enctype="multipart/form-data">*@
    <div class="form-row">
        <div class="form-group col-md-6">

            @Html.LabelFor(m => m.Employee.EmpName)

            @Html.HiddenFor(m => m.Employee.Id)
            @Html.TextBoxFor(m => m.Employee.EmpName, new { @class = "form-control", placeholder = "Employeename" })
            @Html.ValidationMessageFor(m => m.Employee.EmpName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(m => m.Employee.Salary)

            @Html.TextBoxFor(m => m.Employee.Salary, new { @class = "form-control", placeholder = "Salary(eg:1322.34).." })
        </div>
        @*<div class="form-group col-md-6">
                @Html.LabelFor(m => m.Manager.ManagerName)

                @Html.TextBoxFor(m => m.Manager.ManagerName, new { @class = "form-control", placeholder = "ManagerName" })
            </div>
            <div class="form-group col-md-6">
                    @Html.LabelFor(m => m.Department.DeptId)
                    @Html.TextBoxFor(m => m.Department.DeptId, new { @class = "form-control", placeholder = "Department is should be between 1-3.." })

                </div>
            <div class="form-group col-md-6">
                @Html.LabelFor(m => m.Department.DeptName)
                @Html.TextBoxFor(m => m.Department.DeptName, new { @class = "form-control", placeholder = "DepartName." })

            </div>*@
        @*<div class="form-group col-md-6">
                @Html.LabelFor(m => m.DeptId)
                <select class="form-control" id="deptid" name="DeptId">
                    <option value="">Please Select DeptName</option>
                    @foreach (var d in ViewBag.Depts)
                    {
                        <option value="@d.DeptId">@d.DeptName</option>
                    }
                </select>
                <div class="form-group col-md-6">
                    @Html.LabelFor(m => m.ManagerId)
                    <select class="form-control" id="managerid" name="ManagerId">
                        <option value="">Please Select ManagerName</option>
                        @foreach (var d in ViewBag.MngId)
                        {
                            <option value="@d.ManagerId">@d.ManagerName</option>
                        }
                    </select>



                </div>

            </div>*@
    </div>

    <div class="form-group col-md-6">
        <label for="deptid">Department Id</label>
        @Html.DropDownListFor(m => m.Employee.DeptId, new SelectList(Model.Departments, "DeptId", "DeptName"), "Select Dept Name", new { @class = "form-control" })
    </div>

    <div class="form-group col-md-6">
        <label for="managerid">Manager Id</label>
        @Html.DropDownListFor(m => m.Employee.ManagerId, new SelectList(Model.Managers, "ManagerId", "ManagerName"), "Select Manager Name", new { @class = "form-control" })
    </div>

    @Html.ValidationSummary()

    <button type="submit" class="btn btn-success">Edit Employee</button>
    @*@Html.ActionLink("Edit Employee", "UpdateEmp", "Employee", new { @class = "btn btn-success" })*@

    <a class="btn btn-dark" href="/Employee/Index">Cancel</a>
    @*</form>*@
}
@*@Scripts.Render("~/ bundles / jqueryval")*@